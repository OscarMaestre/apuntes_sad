
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="es">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Instalación y configuración de cortafuegos &#8212; documentación de Apuntes de Seguridad y alta disponibilidad - 1.0</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" />
    <link rel="next" title="Legislación y normas sobre seguridad" href="../tema_lopd/tema_lopd.html" />
    <link rel="prev" title="Adopción de pautas de seguridad informática" href="../tema_pautas_seguridad_informatica/tema_pautas_seguridad_informatica.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="instalacion-y-configuracion-de-cortafuegos">
<h1>Instalación y configuración de cortafuegos<a class="headerlink" href="#instalacion-y-configuracion-de-cortafuegos" title="Enlazar permanentemente con este título">¶</a></h1>
<div class="section" id="definicion-de-cortafuegos">
<h2>Definición de cortafuegos<a class="headerlink" href="#definicion-de-cortafuegos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Un cortafuegos o «firewall» es un programa que examina los paquetes de red entrantes y salientes y decide autorizar o no el paso en función de las reglas que dictamine el administrador.</p>
<p>A pesar de ser un software existen fabricantes de hardware que venden «dispositivos cortafuegos». Estos dispositivos suelen ser routers que incluyen de serie el software cortafuegos.</p>
</div>
<div class="section" id="recordatorio-de-los-conceptos-basicos-de-redes">
<h2>Recordatorio de los conceptos básicos de redes<a class="headerlink" href="#recordatorio-de-los-conceptos-basicos-de-redes" title="Enlazar permanentemente con este título">¶</a></h2>
<ul class="simple">
<li>Dirección IP: todo paquete de datos lleva una IP de origen y una de destino.</li>
<li>Puerto: número asociado a un cierto programa o servicio. Todo paquete lleva un puerto de origen y un puerto de destino.</li>
</ul>
<p>Cuando un paquete llega a una máquina es posible que haya que tomar una decisión como:</p>
<ul class="simple">
<li>Permitir el paso del paquete.</li>
<li>Denegar el paso.</li>
<li>Redirigirlo a otra máquina</li>
</ul>
<p>Para ello podemos usar cualquier parámetro de TCP/IP, como por ejemplo.</p>
<ul class="simple">
<li>Autorizar o no dependiendo de la IP de origen.</li>
<li>Autorizar o no dependiendo de la IP de destino.</li>
<li>Basarnos en el puerto de destino. Dado que los puertos de origen suelen ser aleatorios <strong>es muy poco probable que nos basemos en el puerto de origen</strong> . Debe recordarse también que hay que indicar claramente si el puerto será <strong>TCP o UDP</strong>.</li>
<li>También es posible que usemos otros protocolos para tomar la decisión, por ejemplo <code class="docutils literal notranslate"><span class="pre">&lt;prohibir</span> <span class="pre">todos</span> <span class="pre">los</span> <span class="pre">paquetes</span> <span class="pre">ICMP&gt;</span></code></li>
<li>Aunque es poco probable es posible que haya que examinar algún flag del protocolo (RST, SYN, ACK…)</li>
</ul>
</div>
<div class="section" id="utilizacion-de-cortafuegos">
<h2>Utilización de cortafuegos.<a class="headerlink" href="#utilizacion-de-cortafuegos" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Un cortafuegos es un programa que se ejecuta en los niveles más básicos del sistema operativo. Para utilizar esta capacidad es posible que tengamos dos grandes tipos de interfaz.</p>
<ul class="simple">
<li>Un interfaz gráfico (estilo Windows): en este curso analizaremos como usar el cortafuegos de Windows 2016.</li>
<li>Un interfaz basado en comandos (estilo Unix): en este curso veremos como funciona <code class="docutils literal notranslate"><span class="pre">nftables</span></code></li>
</ul>
</div>
<div class="section" id="filtrado-de-paquetes-de-datos">
<h2>Filtrado de paquetes de datos.<a class="headerlink" href="#filtrado-de-paquetes-de-datos" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="tipos-de-cortafuegos-caracteristicas-funciones-principal">
<h2>Tipos de cortafuegos. Características. Funciones principal.<a class="headerlink" href="#tipos-de-cortafuegos-caracteristicas-funciones-principal" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Hay muchas maneras de organizar la arquitectura del cortafuegos de una red. En este curso usaremos la más simple, reflejada en la figura siguiente. En ella, un dispositivo controla todo el tráfico de entrada y salida de una red. Por desgracia tiene el inconveniente de que si un intruso logra «saltarse» el cortafuegos tendrá acceso total a toda la red.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/Cortafuegos.png"><img alt="Estructura de un cortafuegos (Fuente:Wikipedia)" src="../_images/Cortafuegos.png" style="width: 150.0px; height: 82.5px;" /></a>
<p class="caption"><span class="caption-text">Estructura de un cortafuegos (Fuente:Wikipedia)</span></p>
</div>
<p>El mecanismo más utilizado hoy en día es la creación de una «zona desmilitarizada» o DMZ y requiere varios dispositivos. También se conoce por el nombre de «screened host».</p>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../_images/dmz.png"><img alt="Arquitectura de una DMZ (Fuente: RedIris)." src="../_images/dmz.png" style="width: 250.0px; height: 150.0px;" /></a>
<p class="caption"><span class="caption-text">Arquitectura de una DMZ (Fuente: RedIris).</span></p>
</div>
</div>
<div class="section" id="instalacion-de-cortafuegos-ubicacion">
<h2>Instalación de cortafuegos. Ubicación.<a class="headerlink" href="#instalacion-de-cortafuegos-ubicacion" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="reglas-de-filtrado-de-cortafuegos">
<h2>Reglas de filtrado de cortafuegos.<a class="headerlink" href="#reglas-de-filtrado-de-cortafuegos" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="pruebas-de-funcionamiento-sondeo">
<h2>Pruebas de funcionamiento. Sondeo.<a class="headerlink" href="#pruebas-de-funcionamiento-sondeo" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="registros-de-sucesos-de-un-cortafuegos">
<h2>Registros de sucesos de un cortafuegos.<a class="headerlink" href="#registros-de-sucesos-de-un-cortafuegos" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="cortafuegos-integrados-en-los-sistemas-operativos">
<h2>Cortafuegos integrados en los sistemas operativos.<a class="headerlink" href="#cortafuegos-integrados-en-los-sistemas-operativos" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="cortafuegos-libres-y-propietarios">
<h2>Cortafuegos libres y propietarios.<a class="headerlink" href="#cortafuegos-libres-y-propietarios" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="distribuciones-libres-para-implementar-cortafuegos-en-maquinas-dedicadas">
<h2>Distribuciones libres para implementar cortafuegos en máquinas dedicadas.<a class="headerlink" href="#distribuciones-libres-para-implementar-cortafuegos-en-maquinas-dedicadas" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="cortafuegos-hardware">
<h2>Cortafuegos hardware.<a class="headerlink" href="#cortafuegos-hardware" title="Enlazar permanentemente con este título">¶</a></h2>
</div>
<div class="section" id="anexo-configuracion-de-ip-en-linux-con-netplan">
<h2>Anexo: configuración de IP en Linux con Netplan<a class="headerlink" href="#anexo-configuracion-de-ip-en-linux-con-netplan" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La herramienta <code class="docutils literal notranslate"><span class="pre">netplan</span></code> utiliza ficheros YAML para configurar la IP en Linux. En distribuciones Linux orientadas a servidores es la herramienta que se usará en el futuro para configurar todos los parámetros de red. La estructura de estos ficheros permite indicar parámetros y subparámetros de configuración usando 4 espacios. Así, el fichero típico de <code class="docutils literal notranslate"><span class="pre">netplan</span></code> es como sigue:</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="nt">network</span><span class="p">:</span>
    <span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span> <span class="c1">#Version de YAML que se usan</span>
    <span class="nt">ethernets</span><span class="p">:</span> <span class="c1">#Configuración de tarjetas Ethernet</span>
        <span class="l l-Scalar l-Scalar-Plain">enp0s3:#Nombre de la tarjeta a configurar</span>
            <span class="l l-Scalar l-Scalar-Plain">#Se pueden poner muchas direcciones</span>
            <span class="l l-Scalar l-Scalar-Plain">#usando corchetes y separando por comas</span>
            <span class="l l-Scalar l-Scalar-Plain">addresses</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">192.168.100/24</span><span class="p p-Indicator">]</span>
            <span class="c1">#Dirección del router que nos permitirá</span>
            <span class="c1">#salir al exterior</span>
            <span class="nt">gateway4</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">192.168.100.1</span>
            <span class="nt">nameservers</span><span class="p">:</span>
                <span class="nt">addresses</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="nv">10.15.0.220</span><span class="p p-Indicator">,</span> <span class="nv">8.8.8.8</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
<div class="section" id="anexo-ejercicio-de-configuracion">
<h2>Anexo: ejercicio de configuración<a class="headerlink" href="#anexo-ejercicio-de-configuracion" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="figure" id="id3">
<a class="reference internal image-reference" href="../_images/Esquema-de-red.png"><img alt="Ejemplos de permisos" src="../_images/Esquema-de-red.png" style="width: 337.0px; height: 79.0px;" /></a>
<p class="caption"><span class="caption-text">Ejemplos de configuración de una red.</span></p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Apuntes de Seguridad y alta disponibilidad</a></h1>








<h3>Navegación</h3>
<p class="caption"><span class="caption-text">Contenidos:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tema_pautas_seguridad_informatica/tema_pautas_seguridad_informatica.html">Adopción de pautas de seguridad informática</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Instalación y configuración de cortafuegos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#definicion-de-cortafuegos">Definición de cortafuegos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#recordatorio-de-los-conceptos-basicos-de-redes">Recordatorio de los conceptos básicos de redes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#utilizacion-de-cortafuegos">Utilización de cortafuegos.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#filtrado-de-paquetes-de-datos">Filtrado de paquetes de datos.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tipos-de-cortafuegos-caracteristicas-funciones-principal">Tipos de cortafuegos. Características. Funciones principal.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#instalacion-de-cortafuegos-ubicacion">Instalación de cortafuegos. Ubicación.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reglas-de-filtrado-de-cortafuegos">Reglas de filtrado de cortafuegos.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pruebas-de-funcionamiento-sondeo">Pruebas de funcionamiento. Sondeo.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#registros-de-sucesos-de-un-cortafuegos">Registros de sucesos de un cortafuegos.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cortafuegos-integrados-en-los-sistemas-operativos">Cortafuegos integrados en los sistemas operativos.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cortafuegos-libres-y-propietarios">Cortafuegos libres y propietarios.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distribuciones-libres-para-implementar-cortafuegos-en-maquinas-dedicadas">Distribuciones libres para implementar cortafuegos en máquinas dedicadas.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cortafuegos-hardware">Cortafuegos hardware.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#anexo-configuracion-de-ip-en-linux-con-netplan">Anexo: configuración de IP en Linux con Netplan</a></li>
<li class="toctree-l2"><a class="reference internal" href="#anexo-ejercicio-de-configuracion">Anexo: ejercicio de configuración</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tema_lopd/tema_lopd.html">Legislación y normas sobre seguridad</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tema_acceso_remoto/tema_acceso_remoto.html">Implantación de técnicas de acceso remoto. Seguridad perimetral</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tema_proxys/tema_proxys.html">Instalación y configuración de servidores  proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tema_sad/tema_sad.html">Implantación de soluciones de alta disponibilidad</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="../tema_pautas_seguridad_informatica/tema_pautas_seguridad_informatica.html" title="capítulo anterior">Adopción de pautas de seguridad informática</a></li>
      <li>Next: <a href="../tema_lopd/tema_lopd.html" title="próximo capítulo">Legislación y normas sobre seguridad</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Búsqueda rápida</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Ir a" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Oscar GG.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/tema_cortafuegos/tema_cortafuegos.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>